{%- extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% import "bootstrap/utils.html" as utils %}

{% block title %}co2mpas-stamper{% endblock %}

{% block content %}
  <div class="container">
      <div class="jumbotron">
        <h1>co2mpas web stamper</h1>
        <p class="bg-info">Note: Stamping <em>Dice-reports</em> from
           <abbr title="Communicate your PGP Public Key with JRC.">known public-keys</abbr>
           only.</p>
        <p class="bg-warning">Under construction, as of 12-Sept-2017.</p>
      </div>
  <div class="col-md-12">
    <form action="" method="post" class="form form-horizontal" role="form">
      {%- set button_map = {
        'check': 'secondary',
        'submit': 'primary',
        'new_stamp': 'info'}-%}
      {%- set form_type = "basic" -%}

      {{ wtf.form_field(form.stamp_recipients,
                        form_type=form_type,
                        button_map=button_map) }}
      {{ wtf.form_field(form.dice_report,
                        form_type=form_type,
                        button_map=button_map) }}
      {{ wtf.form_field(form.repeat_dice,
                        form_type=form_type,
                        button_map=button_map) }}

      {{ form.hidden_tag() }}
      {{ wtf.form_errors(form, hiddens='only') }}

      {{ wtf.form_field(form.check,
                        form_type=form_type,
                        button_map=button_map) }}
      {{ wtf.form_field(form.submit,
                        form_type=form_type,
                        button_map=button_map) }}
      <a href='{{request.url}}' class="btn btn-info">New stamp...</a>
    </form>
  </div>

  {{utils.flashed_messages(messages)}}
{%- endblock %}
